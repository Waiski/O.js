<head>
  <title>Otyapp</title>
  <!-- this is critical for mobile and emulation to look and work properly -->
  <meta name="viewport" content="width=device-width, maximum-scale=1, user-scalable=no">
</head>

<template name="layout">
  {{#famousContext id="mainCtx"}}
    {{#HeaderFooterLayout headerSize="80" footerSize="0"}}

      {{>yield region="header"}}

      {{#RenderController target="content" transition="opacity"}}
        {{>yield}}
      {{/RenderController}}

    {{/HeaderFooterLayout}}
  {{/famousContext}}
</template>

<template name="drinksList">
  {{#ContainerSurface class="mainContent"}}
    {{#SequentialLayout direction="X"}}
      {{#StateModifier size=getLeftBarSize}}
        {{#Scrollview}}
          {{#famousEach categories}}
            {{#Surface size="[undefined,true]" class="categorySelector"}}
              <div class="category">{{name}}</div>
            {{/Surface}}
          {{/famousEach}}
        {{/Scrollview}}
      {{/StateModifier}}
      {{#StateModifier size=getMainSize}}
        {{#Scrollview}}
          {{#famousEach categories}}
            {{>drinkCategory}}
          {{/famousEach}}
        {{/Scrollview}}
      {{/StateModifier}}
    {{/SequentialLayout}}
  {{/ContainerSurface}}
</template>

<template name="drinkCategory">
  {{#Surface size="[undefined,true]" class="list-category-name"}}
    {{name}}
  {{/Surface}}
  {{#famousEach drinks}}
    {{#Surface size="[undefined,true]"}}
      {{>drinkRow}}
    {{/Surface}}
  {{/famousEach}}
</template>

<template name="drinkRow">
  <div class="drink-row">
    <a href="{{pathFor 'drink' slug=name}}">
      <div class="pull-left drink-name">
        {{name}}
      </div>
      <div class="pull-right drink-price">
        {{price}}
      </div>
      <div class="clearfix"></div>
    </a>
  </div>
</template>

<template name="loading">
  {{#Surface size="[undefined,undefined]"}}
    {{> spinner}}
  {{/Surface}}
</template>