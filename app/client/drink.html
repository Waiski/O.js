<template name="drinkTmpl">
  {{#StateModifier size=getSize align="[0.5,0]" origin="[0.5,0]"}}
    {{>Surface size="[undefined,undefined]" class="mainContent" template="drinkPropertySheet"}}
  {{/StateModifier}}
</template>

<template name="drinkPropertySheet">
  {{!-- .drink-property-set -elements can be used for setting a property, .drink-property-show -elements display it --}}
  <select
  id="drink-category-select"
  class="drink-property-set select{{#unless editmode}} hidden{{/unless}}"
  data-drink-property="categoryId">
    {{#each categories}}
      <option value="{{_id}}">{{name}}</option>
    {{/each}}
  </select>
  <p
  class="drink-property-show{{#if editmode}} hidden{{/if}}"
  data-drink-property="categoryId">{{getCategory}}</p>
  <h1 
  id="drink-name"
  class="drink-property-set drink-property-show underlined"
  placeholder="Drink name"
  data-drink-property="name"
  contenteditable={{#if editmode}}true{{else}}false{{/if}}>{{name}}</h1>
  <p
  id="drink-manufacturer"
  class="drink-property-set {{#unless editmode}} hidden{{/unless}}"
  placeholder="Manufacturer (or brewery, distillery...)"
  data-drink-property="manufacturer"
  contenteditable={{#if editmode}}true{{else}}false{{/if}}>{{manufacturer}}</p>
  <p
  id="drink-website"
  class="drink-property-set underlined{{#unless editmode}} hidden{{/unless}}"
  placeholder="Manufacturer website URL"
  data-drink-property="website"
  contenteditable={{#if editmode}}true{{else}}false{{/if}}>{{website}}</p>
  {{#unless editmode}}
    {{>drinkManufacturer}}
  {{/unless}}
  <p
  id="drink-region"
  class="drink-property-set drink-property-show"
  placeholder="Manufacturing country and region"
  data-drink-property="region"
  contenteditable={{#if editmode}}true{{else}}false{{/if}}>{{region}}</p>
  <p
  id="drink-strength"
  class="drink-property-set drink-property-show"
  placeholder="Alcohol content vol-%"
  data-drink-property="strength"
  contenteditable={{#if editmode}}true{{else}}false{{/if}}>{{strength}}</p>
  <p
  id="drink-subcategory"
  class="drink-property-set drink-property-show"
  placeholder="Subcategory (i.e. Pale ale, Bourbon, Armagnac...)"
  data-drink-property="subcategory"
  contenteditable={{#if editmode}}true{{else}}false{{/if}}>{{subcategory}}</p>
  <p
  id="drink-temperature"
  class="drink-property-set drink-property-show"
  placeholder="Recommended serving temperature"
  data-drink-property="temperature"
  contenteditable={{#if editmode}}true{{else}}false{{/if}}>{{temperature}}</p>
  <p
  id="drink-description"
  class="drink-property-set drink-property-show overlined"
  placeholder="Description"
  data-drink-property="description"
  contenteditable={{#if editmode}}true{{else}}false{{/if}}>{{description}}</p>
  <strong
  id="drink-price"
  class="drink-property-set drink-property-show"
  placeholder="Price"
  data-drink-property="price"
  contenteditable={{#if editmode}}true{{else}}false{{/if}}>{{price}}</strong>
</template>

<template name="drinkManufacturer">
  <div class="drink-property-show underlined">
    {{#if hasValidUrl}}
      <a href="{{getUrl}}" target="_blank">{{manufacturer}}</a>
    {{else}}
      <p>{{manufacturer}}</p>
    {{/if}}
  </div>
</template>